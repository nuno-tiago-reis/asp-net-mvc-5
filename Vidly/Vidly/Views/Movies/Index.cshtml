@model IEnumerable<Vidly.Models.Movie>

@{
	ViewBag.Tile = "Movies";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Movies</h2>

@if (Model.Any() == false)
{
	@Html.DisplayText("No movies have been added yet.")
}
else
{
	<table class="table table-bordered table-hover">
		<thead>
		<tr>
			<th>Movie</th>
			<th>Genre</th>
			<th>Release Date</th>
			<th>Number in Stock</th>
			<th>Edit?</th>
			<th>Delete?</th>
		</tr>
		</thead>
		<tbody>
		@foreach (var movie in Model)
		{
			<tr>
				<td>
					<a href="@Url.Action("Details", "Movies", new {id = movie.ID})">@movie.Name</a>
				</td>
				<td>@movie.Genre.Name</td>
				<td>@movie.ReleaseDate</td>
				<td>@movie.NumberInStock</td>
				<td>
					<input type="button" class="btn btn-primary" value="Edit" onclick="location.href = '@Url.Action("Edit", "Movies", new {id = movie.ID})'"/>
				</td>
				<td>
					@using (Html.BeginForm("Delete", "Movies"))
					{
						@Html.Hidden("id", movie.ID)
						<button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you wish to delete this movie?');">Delete</button>
					}
				</td>
			</tr>
		}
		</tbody>
	</table>
}
<input type="button" class="btn btn-primary" value="Create" onclick="location.href='@Url.Action("Create", "Movies")'" />